<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script>
        // Transformando uma funcção existente em Promisse
        const melhordev = "adilson";

        // anterior:
        function qualMelhorCallback_Old(callback, errorCallback) {
            if (melhordev != "adilson" && melhordev != "maysa") {
                errorCallback({
                    name: "está errado",
                    message: melhordev + "? sério?"
                });
            }
            else {
                callback({
                    name: melhordev,
                    message: "tudo certo"
                });
            }
        }

        //qualMelhorCallback_Old((result) => {
        //    console.log(result.name + " legal " + result.message);
        //}, (error) => {
        //    console.log(error.name + " " + error.message)
        //});


        // com promise
       // function qualMelhorCallback(callback, errorCallback) {
        function qualMelhorCallback() {
            return new Promise((resolve, reject) => {
                if (melhordev != "adilson" && melhordev != "maysa") {
                    reject({
                        name: "está errado - promise",
                        message: melhordev + "? sério?"
                    });
                }
                else {
                    resolve({
                        name: melhordev,
                        message: "tudo certo - promise"
                    });
                }
            })
        }

        qualMelhorCallback()
            .then((result) => {
                console.log(result.name + " legal promise - " + result.message)
            })
            .catch((error) => {
                console.log(error.name + " (promise) " + error.message)
            } );
  
    </script>
</head>
<body>

</body>
</html>